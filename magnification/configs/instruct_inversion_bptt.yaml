dataset:
  # image_dir: /proj/vondrick4/VisualMacros/Photoshop/whiskers/train-a
  # image_edits_dir: /proj/vondrick4/VisualMacros/Photoshop/whiskers/train-b
  # eval_dir: /proj/vondrick4/VisualMacros/Photoshop/whiskers/eval-a

  image_dir: /proj/vondrick2/orr/projects/stargan-v2/data/afhq
  image_edits_dir: /proj/vondrick2/orr/projects/stargan-v2/data/afhq/train/dog
  eval_dir: /proj/vondrick2/orr/projects/stargan-v2/data/afhq/val/cat
  repeats: 1
  subset: 10

diffusion:
  embedding_config:
    placeholder_strings: ["*"]
    initializer_words: ["red", "whiskers"]
    per_image_tokens: false
    num_vectors_per_token: 10
    progressive_words: false
  conditioning_dropout_prob: 0.05

train:
  total_batch_size: 32
  total_samples_per_epoch: 256
  num_gpus: 4

  lr_lora: 3e-4
  lr_text_embed: 0.16

  use_lora: false
  grad_checkpoint: true
  truncated_backprop: true
  truncated_backprop_minmax: [25, 50]

# log_dir: ./results/classifier/cats_dogs/bsz32_steps50_lr0.16_3e-4_trunc25_50_mse
log_dir: ./results/cats_dogs/check
run_name: check
num_checkpoint_limit: 10
mixed_precision: "no"
num_inference_steps: 50
epochs: 1
device: 1
allow_tf32: true
debug: false